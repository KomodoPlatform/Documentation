(window.webpackJsonp=window.webpackJsonp||[]).push([[319],{613:function(e,s,a){"use strict";a.r(s);var t=a(10),n=Object(t.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"setup-komodo-notary-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup-komodo-notary-node"}},[e._v("#")]),e._v(" Setup Komodo Notary Node")]),e._v(" "),s("h2",{attrs:{id:"nn-repo-quick-reference"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nn-repo-quick-reference"}},[e._v("#")]),e._v(" NN Repo Quick Reference")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Disclaimer")]),e._v(" "),s("p",[e._v("This guide serves to offer notary operators a reference for building a Komodo Notary Node server. It is possible that some instructions could be deprecated by the time you read it (e.g. coin commit hashes) - please refer to "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/dPoW/blob/master/doc",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/KomodoPlatform/dPoW/blob/master/doc"),s("OutboundLink")],1),e._v(" for more recent updates.")])]),e._v(" "),s("p",[e._v('Traditionally, Komodo Notary Nodes have been setup using a "Main" and "Third party" server. The "Main" server is used to notarize KMD and Antara smart chains, and the "Third party" server is used to notarize coins from external projects.\nBeginning in season 7, the Komodo Notary Node network will allow running the old "Third party" node on the same server as the "Main" node. Though operators may use alternative methods of virtualisation such as proxmox, this guide will focus on using docker containers to run the "Third party" daemons.')]),e._v(" "),s("p",[e._v("The steps for setting up your nodes are as follows:")]),e._v(" "),s("ul",[s("li",[e._v("Secure your Server")]),e._v(" "),s("li",[e._v('Install KMD and LTC Deamons, then launch them, import the private key linked to your "Main" elected pubkey, and let them sync. and let them sync (this may take a couple of days).')]),e._v(" "),s("li",[e._v('Launch the other "Main" server chains, import the private key linked to your "Main" elected pubkey, and let them sync.')]),e._v(" "),s("li",[e._v('Setup the 3rd Party docker containers, import the private key linked to your "3P" elected pubkey, and let them sync.')]),e._v(" "),s("li",[e._v("Install and configure Iguana")])]),e._v(" "),s("p",[e._v("Some additional tips will be included at the end of the guide to help with node management and maintainence.")]),e._v(" "),s("p",[e._v("If you face problems, please join the "),s("code",[e._v("#notarynode")]),e._v(" channel on the "),s("a",{attrs:{href:"https://komodoplatform.com/discord",target:"_blank",rel:"noopener noreferrer"}},[e._v("Komodo Discord Server"),s("OutboundLink")],1),e._v(" for help.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("We recommend the Notary Node Operators to check the Table at "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/dPoW/tree/season-seven#dpow-asset-status",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/KomodoPlatform/dPoW/tree/season-seven#dpow-asset-status"),s("OutboundLink")],1),e._v(" for latest information on the repositories and branches/commits to use for installing chains. If there is contradicting information in this document, treat the information within the dPoW reopsitory as the point of truth. Using the "),s("strong",[e._v("exact")]),e._v(" repository and branch/tag listed is very important for the security of the network.")])]),e._v(" "),s("h2",{attrs:{id:"minimum-system-requirements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minimum-system-requirements"}},[e._v("#")]),e._v(" Minimum System Requirements")]),e._v(" "),s("p",[e._v("Notary nodes "),s("strong",[e._v("must")]),e._v(" be run on a dedicated server in a Tier 3 datacenter. Running on a local desktop PC or VPS is not allowed. The minimum system requirements are as follows:")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("OS:")]),e._v(" Debian/Ubuntu LTS x64 - minimal installation with Openssh server (recommended).")]),e._v(" "),s("li",[s("strong",[e._v("CPU:")]),e._v(" A High-Performance CPU (e.g. Xeon, i7/i9, Ryzen, EPYC, etc.) with 8+ Cores")]),e._v(" "),s("li",[s("strong",[e._v("RAM:")]),e._v(" 64GB+ RAM")]),e._v(" "),s("li",[s("strong",[e._v("HDD:")]),e._v(" 1TB+ (SSD is recommended)")]),e._v(" "),s("li",[s("strong",[e._v("Bandwidth")]),e._v(": 100 Mbps or higher")]),e._v(" "),s("li",[s("strong",[e._v("Location")]),e._v(": Within the region where you were elected.")])]),e._v(" "),s("p",[e._v("This guide assumes you are using Ubuntu 20.04 LTS. If using Debian 11, scroll to the bottom of this guide for notes on required dependencies and build scripts.")]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"creating-notary-pubkeys"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-notary-pubkeys"}},[e._v("#")]),e._v(" Creating notary pubkeys")]),e._v(" "),s("p",[e._v("Once you have been elected as a notary node operator, you will need to generate your notary pubkeys and register them with the Komodo Team via your proposal on "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/NotaryNodes",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/KomodoPlatform/NotaryNodes"),s("OutboundLink")],1),e._v(" soon after the election, so they can be included in the Komodo codebase for the next hardfork.")]),e._v(" "),s("p",[e._v("Notary node operators have to provide 2 seperate pubkeys, one for your Main Server and one for your 3rd Party Server. This means you will have to generate 2 seed phrases (i.e passphrases) individually which will each be linked to a pubkey, and a set of addresses and private keys (WIF).")]),e._v(" "),s("p",[s("strong",[e._v("DO NOT IMPORT YOUR MAIN PUBKEY INTO ANY 3RD PARTY DAEMON. For security, you should never enter your seed phrase or private key in any other node than your specific notary node server. If you ever expose a private key for any particular coin, it can be converted to all other coins easily.")])]),e._v(" "),s("h3",{attrs:{id:"generating-a-pubkey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generating-a-pubkey"}},[e._v("#")]),e._v(" Generating a pubkey")]),e._v(" "),s("p",[e._v("Your pubkey will start with "),s("code",[e._v("02")]),e._v(" or "),s("code",[e._v("03")]),e._v(". Follow "),s("RouterLink",{attrs:{to:"/notary/generate-privkeys-third-party-coins-from-passphrase.html"}},[e._v("this guide")]),e._v(' to generate all the required info in your own server. You will need the "Compressed Public Key", "Compressed WIF" and "Compressed Address" from the output generated by the script. Based on the default seed used in the '),s("code",[e._v("genkomodo.php")]),e._v(" file, we get the following information:")],1),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("Pubkey: 02a854251adfee222bede8396fed0756985d4ea905f72611740867c7a4ad6488c1\n\nLTC Address: LfK5cYTTSDoSVSYtxkTVv8dGnqXYZRsn86\nLTC WIF: 6vCN7rsS1bPFgs98G2PQgcHP2EArh39Un1QDh16YrPrJxCZTthq\n\nKMD Address: RVNKRr2uxPMxJeDwFnTKjdtiLtcs7UzCZn\nKMD WIF: UtrRXqvRFUAtCrCTRAHPH6yroQKUrrTJRmxt2h5U4QTUN1jCxTAh\n\nEMC2 Address: EdF2quz8nWrJDwTbbTTieFYUMGfPsVB5dv\nEMC2 WIF: T7trfubd9dBEWe3EnFYfj1r1pBueqqCaUUVKKEvLAfQvz3JFsNhs\n\nAYA Address: AVjkMgFfmMZbpFvmTxCcxadnD6g1EdQue3\nAYA WIF: T6oxgc9ZYJA1Uvsm31Gb8Mg31hHgLWue7RuqQMjEHUWZEi5TdskL\n")])])]),s("p",[e._v("CHIPS, all Komodo Smart Chains and Komodo source forks like MCL, TOKEL and VRSC use the same address and WIF format as Komodo (KMD).")]),e._v(" "),s("h3",{attrs:{id:"do-not-keep-your-seed-phrase-or-private-keys-saved-in-your-local-computer-never-import-it-into-any-other-apps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#do-not-keep-your-seed-phrase-or-private-keys-saved-in-your-local-computer-never-import-it-into-any-other-apps"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Do not keep your seed phrase or private keys saved in your local computer! Never import it into any other apps!")])]),e._v(" "),s("p",[e._v("If your notary seed or private keys are compromised, it not only places your server and notary funds at risk, but may also compromise the security of the entire dPoW network. "),s("strong",[e._v("If you ever suspect that your seed or private keys have been compromised, you should immediately contact the Komodo Team so steps can be taken to mitigate any potential threats.")])]),e._v(" "),s("p",[e._v("It is recommended that you write down the randomly generated seed (24 words) in a piece of paper (or use a rugged physical backup like CryptoSteel), then type directly into your server, or generate the seed phrase on the server itself with a tool like "),s("a",{attrs:{href:"https://github.com/smk762/DragonhoundTools/blob/master/wallet/gen_seed.py",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/smk762/DragonhoundTools/blob/master/wallet/gen_seed.py"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"security"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#security"}},[e._v("#")]),e._v(" Security")]),e._v(" "),s("p",[s("strong",[e._v("Before doing anything further, ensure that your server is secure.")])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("In the examples below, I will use the username "),s("code",[e._v("dragonhound")]),e._v(". Please replace this with your own username.\nMake sure to use a password manager like "),s("a",{attrs:{href:"https://keepassxc.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("KeePassXC"),s("OutboundLink")],1),e._v(" to generate and store your sudo passwords an SSH keys, and backup your password database to a secure location so you dont lose access to your server if your desktop/laptop fails.")])]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("Update the system")]),e._v(": "),s("code",[e._v("sudo apt-get update && sudo apt-get upgrade -y")])])]),e._v(" "),s("li",[s("p",[s("strong",[s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04",target:"_blank",rel:"noopener noreferrer"}},[e._v("Create a new user & give it "),s("code",[e._v("sudo")]),e._v(" permissions"),s("OutboundLink")],1)]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("adduser dragonhound "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# to add a new user")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("passwd")]),e._v(" dragonhound "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# set a password for new user")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("usermod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-aG")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" dragonhound "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# to give the user sudo permissions")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("su")]),e._v(" - dragonhound "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# to switch to the new user")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Install "),s("a",{attrs:{href:"https://linuxize.com/post/install-configure-fail2ban-on-ubuntu-20-04/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fail2ban"),s("OutboundLink")],1)]),e._v(" with  "),s("code",[e._v("sudo apt install fail2ban")]),e._v(". It will start automatically after installation.")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Install "),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-20-04",target:"_blank",rel:"noopener noreferrer"}},[e._v("UFW"),s("OutboundLink")],1)]),e._v(" (make sure to allow SSH access "),s("strong",[e._v("before")]),e._v(" enabling the firewall).")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" ufw\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow OpenSSH\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[s("strong",[s("a",{attrs:{href:"https://www.unixtutorial.org/how-to-generate-ed25519-ssh-key/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Create an SSH key"),s("OutboundLink")],1)]),e._v(" on your PC, then add the public SSH key to the server. This will allow you to login without a password. Repeat this step for each device you will use to access the server. For example:")]),e._v(" "),s("ul",[s("li",[e._v("Create an ED25519 SSH key (e.g. on your laptop) with "),s("code",[e._v('ssh-keygen -t ed25519 -C "dragonhound@laptop"')])]),e._v(" "),s("li",[e._v("View the public key with "),s("code",[e._v("cat ~/.ssh/id_ed25519.pub")]),e._v(".")]),e._v(" "),s("li",[e._v("It will look like "),s("code",[e._v("ssh-ed25519 AAAAC3NzaC1lZD42STE5AAAAIK0wmN/Cr3JXqmLW7u+g9pTh+wyqDHpSQEIQczXkVx9q dragonhound@laptop")])])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Add the SSH key to your server")]),e._v(":")]),e._v(" "),s("ul",[s("li",[e._v("On the server, create a "),s("code",[e._v(".ssh")]),e._v(" folder in your home directory with "),s("code",[e._v("mkdir ~/.ssh")])]),e._v(" "),s("li",[e._v("Create a file to contain authorized keys with "),s("code",[e._v("nano ~/.ssh/authorized_keys")])]),e._v(" "),s("li",[e._v("Paste the public key into the file, then save and exit.")]),e._v(" "),s("li",[e._v("Restrict file permissions with "),s("code",[e._v("sudo chmod 600 ~/.ssh/authorized_keys")]),e._v(" and "),s("code",[e._v("sudo chmod 700 ~/.ssh")])]),e._v(" "),s("li",[e._v("To confirm that the key works, open a new terminal on your desktop/laptop and run "),s("code",[e._v("ssh dragonhound@<SERVER_IP>")]),e._v(". If everything is working, you should be logged in without being asked for a password.")])])]),e._v(" "),s("li",[s("p",[s("strong",[s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-20-04#disabling-password-authentication-on-your-server",target:"_blank",rel:"noopener noreferrer"}},[e._v("Disable password authentication"),s("OutboundLink")],1)])]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Make sure you have added your SSH key to the server and confirmed it is working before doing this!")])]),e._v(" "),s("li",[e._v("Open the SSH daemon config file with "),s("code",[e._v("sudo nano /etc/ssh/sshd_config")])]),e._v(" "),s("li",[e._v("Find the line that says "),s("code",[e._v("#PasswordAuthentication yes")]),e._v(" and change it to "),s("code",[e._v("PasswordAuthentication no")]),e._v(" then save and exit the file.")]),e._v(" "),s("li",[e._v("Restart the SSH daemon with "),s("code",[e._v("sudo systemctl restart sshd")])])])]),e._v(" "),s("li",[s("p",[s("strong",[s("a",{attrs:{href:"https://www.howtogeek.com/howto/linux/security-tip-disable-root-ssh-login-on-linux/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Disable "),s("code",[e._v("root")]),e._v(" login"),s("OutboundLink")],1)])]),e._v(" "),s("ul",[s("li",[e._v("Open the SSH daemon config file with "),s("code",[e._v("sudo nano /etc/ssh/sshd_config")])]),e._v(" "),s("li",[e._v("Set "),s("code",[e._v("PermitRootLogin no")]),e._v(" then save and exit the file")]),e._v(" "),s("li",[e._v("Restart the SSH daemon with "),s("code",[e._v("sudo systemctl restart sshd")])])])]),e._v(" "),s("li",[s("p",[s("strong",[s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorial_collections/how-to-add-swap-space",target:"_blank",rel:"noopener noreferrer"}},[e._v("Add 32GB of swap space"),s("OutboundLink")],1)])]),e._v(" "),s("ul",[s("li",[e._v("View existing swap space with "),s("code",[e._v("sudo swapon --show")]),e._v(", existing physical an virtual memory with "),s("code",[e._v("free -h")]),e._v(", and disk space with "),s("code",[e._v("df -h")]),e._v(".")]),e._v(" "),s("li",[e._v("Create a 32GB swap file with "),s("code",[e._v("sudo fallocate -l 32G /swapfile")])]),e._v(" "),s("li",[e._v("Restrict swap file permissions to root only with "),s("code",[e._v("sudo chmod 600 /swapfile")])]),e._v(" "),s("li",[e._v("Mark the file as swap space with "),s("code",[e._v("sudo mkswap /swapfile")])]),e._v(" "),s("li",[e._v("Activate the swap file with "),s("code",[e._v("sudo swapon /swapfile")])]),e._v(" "),s("li",[e._v("Verify that the swap space is active with "),s("code",[e._v("sudo swapon --show")]),e._v(" and "),s("code",[e._v("free -h")])]),e._v(" "),s("li",[e._v("To make the swap file permanent, we'll edit the "),s("code",[e._v("fstab")]),e._v(" file.\n- First, backup the "),s("code",[e._v("fstab")]),e._v(" file with "),s("code",[e._v("sudo cp /etc/fstab /etc/fstab.bak")]),e._v("\n- Update it with "),s("code",[e._v("echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab")])]),e._v(" "),s("li",[e._v("Now your swap space should be retained after rebooting.")])])]),e._v(" "),s("li",[s("p",[s("strong",[s("a",{attrs:{href:"https://linuxhandbook.com/change-ssh-port/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Change the SSH port"),s("OutboundLink")],1)]),e._v(" (optional, but recommended)")]),e._v(" "),s("ul",[s("li",[e._v("Open the ssh daemon config file with "),s("code",[e._v("sudo nano /etc/ssh/sshd_config")])]),e._v(" "),s("li",[e._v("Change the "),s("code",[e._v("Port")]),e._v(" value to something other than "),s("code",[e._v("22")]),e._v(" (e.g. "),s("code",[e._v("Port 2222")]),e._v(")")]),e._v(" "),s("li",[e._v("Allow the new port in the firewall "),s("code",[e._v("sudo ufw allow 2222 comment ssh")])]),e._v(" "),s("li",[e._v("Save and exit the file, then restart the SSH service with "),s("code",[e._v("sudo systemctl restart sshd")])]),e._v(" "),s("li",[e._v("Test the new port with "),s("code",[e._v("ssh dragonhound@<SERVER_IP> -p 2222")])])])])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"additional-configuration-tweaks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#additional-configuration-tweaks"}},[e._v("#")]),e._v(" Additional Configuration Tweaks")]),e._v(" "),s("p",[e._v("The steps below are optional, but recommended to give your node a better chance of performing well based on the experiences of prior season Natary Node Operators.")]),e._v(" "),s("h3",{attrs:{id:"set-ulimit-parameters-on-ubuntu-permanently"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-ulimit-parameters-on-ubuntu-permanently"}},[e._v("#")]),e._v(" Set "),s("code",[e._v("ulimit")]),e._v(" parameters on Ubuntu permanently")]),e._v(" "),s("p",[e._v("By default, the number of open files per user in Ubuntu is 1024. In our case this number is too small so we will increase it.")]),e._v(" "),s("p",[e._v("This is done with the "),s("code",[e._v("ulimit")]),e._v(" command:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("ulimit")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-a")]),e._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# see all the kernel parameters")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("ulimit")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# see the number of open files")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("ulimit")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000000")]),e._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#  set the number open files to 1000000")]),e._v("\n")])])]),s("p",[e._v("This will only set the "),s("code",[e._v("ulimit")]),e._v(" parameters for the current command terminal and user, meaning that after a reboot youâ€™ll need to set the parameter again. Do the following to set it permanently:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Edit the "),s("code",[e._v("/etc/security/limits.conf")]),e._v(" file")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/security/limits.conf\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Add these lines:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("* soft nofile "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000000")]),e._v("\n* hard nofile "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000000")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Save and close file")])])]),e._v(" "),s("h3",{attrs:{id:"set-pam-limits-to-required"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-pam-limits-to-required"}},[e._v("#")]),e._v(" Set "),s("code",[e._v("pam_limits")]),e._v(" to "),s("code",[e._v("required")])]),e._v(" "),s("p",[e._v("Linux uses PAM (pluggable authentication modules) in the authentication process as a layer that mediates between user and application. The "),s("code",[e._v("pam_limits")]),e._v(" PAM module sets limits on the system resources that can be obtained in a user-session.")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Edit the "),s("code",[e._v("/etc/pam.d/common-session")]),e._v(" file")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/pam.d/common-session\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Add this line:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("session required pam_limits.so\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Save and close the file.")])])]),e._v(" "),s("p",[e._v("We're done! Now let's stop all our wallet daemons safely with RPC commands and reboot the server using "),s("code",[e._v("sudo reboot")]),e._v(" or "),s("code",[e._v("sudo shutdown -r")]),e._v(" command. After the reboot, log back in and check the "),s("code",[e._v("ulimit")]),e._v(" parameters again.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("ulimit")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v("\n")])])]),s("hr"),e._v(" "),s("h2",{attrs:{id:"install-iguana-coin-daemons"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-iguana-coin-daemons"}},[e._v("#")]),e._v(" Install Iguana & Coin Daemons")]),e._v(" "),s("p",[e._v("The daemons will take a couple of days to sync, so it's best to get them started as soon as possible. If you encounter any errors, please join the "),s("code",[e._v("#notarynode")]),e._v(" channel on the "),s("a",{attrs:{href:"https://komodoplatform.com/discord",target:"_blank",rel:"noopener noreferrer"}},[e._v("Komodo Discord Server"),s("OutboundLink")],1),e._v(" for help.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[s("code",[e._v("-j$(nproc)")]),e._v(" uses all the available processor threads while compiling. If you don't want to use all threads, you may specify the number directly like so: "),s("code",[e._v("-j8")]),e._v(" will use only 8 threads. Alternatively, you may like to use "),s("code",[e._v("-j$(expr $(nproc) - 1)")]),e._v(", which will use all the available processors except one.")])]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("Install dependencies:")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" build-essential pkg-config libc6-dev m4 g++-multilib autoconf libtool ncurses-dev "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("unzip")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" python3 python3-zmq zlib1g-dev "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" libcurl4-gnutls-dev bsdmainutils automake "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" libsodium-dev jq libfmt-dev autotools-dev cmake clang "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("htop")]),e._v(" libevent-dev libboost-system-dev libboost-filesystem-dev libboost-chrono-dev libboost-program-options-dev libboost-test-dev libboost-thread-dev libssl-dev libnanomsg-dev "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])])])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"install-iguana"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-iguana"}},[e._v("#")]),e._v(" Install Iguana")]),e._v(" "),s("p",[e._v("Iguana is the software used to perform notarizations, and needs to be installed from the "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/dPoW",target:"_blank",rel:"noopener noreferrer"}},[e._v("dPoW"),s("OutboundLink")],1),e._v(" repository.")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("Clone the dPoW repository and build Iguana")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Clone repository")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/KomodoPlatform/dPoW "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" season-seven\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" dPoW/iguana\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Build Iguana")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Create pubkey files")]),e._v(":\nIguana will reference these files when launching to validate your node as an elected notary.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"pubkey=<YOUR_MAIN_PUBKEY>"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/dPoW/iguana/pubkey.txt\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"pubkey=<YOUR_3P_PUBKEY>"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/dPoW/iguana/pubkey_3p.txt\n")])])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Create "),s("code",[e._v("wp")]),e._v(" files")]),e._v(":")]),e._v(" "),s("ul",[s("li",[e._v("These files will be used to unlock your wallets when Iguana launches, and are named according to the iguana port they are targeting. The contents will include your seed phrase (or a private key) from the Main or 3P coins you want to unlock for notarisation.")]),e._v(" "),s("li",[e._v("The Main Iguana uses port 7776. Create a file called "),s("code",[e._v("~/dPoW/iguana/wp_7776")]),e._v(" and add the contents as below:")])])])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--url")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://127.0.0.1:7776"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--data")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'{\n    "method": "walletpassphrase",\n    "params": ["YOUR_MAIN_SEEDPHRASE_OR_PRIVATE_KEY", 9999999]\n}\'')]),e._v("\n")])])]),s("ul",[s("li",[e._v("The Third Party Iguana uses port 7779. Create a file called "),s("code",[e._v("~/dPoW/iguana/wp_7779")]),e._v(" and add the contents as below:")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--url")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://127.0.0.1:7779"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--data")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'{\n    "method": "walletpassphrase",\n    "params": ["YOUR_3P_SEEDPHRASE_OR_PRIVATE_KEY", 9999999]\n}\'')]),e._v("\n")])])]),s("ul",[s("li",[e._v("Restrict file permissions and make executable:")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("700")]),e._v(" ~/dPoW/iguana/wp_7776\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("700")]),e._v(" ~/dPoW/iguana/wp_7779\n")])])]),s("hr"),e._v(" "),s("h2",{attrs:{id:"install-kmd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-kmd"}},[e._v("#")]),e._v(" Install KMD")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Go to home folder "),s("code",[e._v("cd ~")])])]),e._v(" "),s("li",[s("p",[e._v("Clone repo: "),s("code",[e._v("git clone https://github.com/KomodoPlatform/komodo -b master")])])]),e._v(" "),s("li",[s("p",[e._v("Enter repo folder "),s("code",[e._v("cd komodo")])])]),e._v(" "),s("li",[s("p",[e._v("Fetch Zcash params: "),s("code",[e._v("./zcutil/fetch-params.sh")])])]),e._v(" "),s("li",[s("p",[e._v("Build Komodo: "),s("code",[e._v("./zcutil/build.sh -j$(nproc)")])])]),e._v(" "),s("li",[s("p",[e._v("Create the data folder and a "),s("code",[e._v("komodo.conf")]),e._v(" config file")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" .komodo\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" ~/.komodo/komodo.conf\n")])])]),s("p",[e._v("Add the following lines to the "),s("code",[e._v("komodo.conf")]),e._v(" file and save it (replace rpcuser and rpcpassword)")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcuser")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("usernameChangeItToSomethingSecure\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcpassword")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("passwordChangeItToSomethingSecure\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("txindex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("addressindex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("spentindex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("server")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("daemon")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcworkqueue")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("256")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcbind")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcallowip")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("127.0")]),e._v(".0.1\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("7770")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcport")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("7771")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("addnode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("15.235")]),e._v(".204.174 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dragonhound_AR")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("addnode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("209.222")]),e._v(".101.247 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dragonhound_NA")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("addnode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("103.195")]),e._v(".100.32 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dragonhound_DEV")]),e._v("\n")])])]),s("p",[e._v("Restrict access to the "),s("code",[e._v("komodo.conf")]),e._v(" file")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v(" ~/.komodo/komodo.conf\n")])])]),s("p",[e._v("symlink pubkey files to komodo directory:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ln")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" ~/dPoW/iguana/pubkey.txt ~/komodo/src/pubkey.txt\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ln")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" ~/dPoW/iguana/pubkey_3p.txt ~/komodo/src/pubkey_3p.txt\n")])])])])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"install-ltc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-ltc"}},[e._v("#")]),e._v(" Install LTC")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("Clone repo: "),s("code",[e._v("git clone https://github.com/litecoin-project/litecoin -b 0.16")])])]),e._v(" "),s("li",[s("p",[e._v("Enter repo folder "),s("code",[e._v("cd litecoin")])])]),e._v(" "),s("li",[s("p",[e._v("Create "),s("code",[e._v("build.sh")]),e._v(" script with the following contents and give it executable permissions ("),s("code",[e._v("chmod +x build.sh")]),e._v(")")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[e._v("#!/bin/bash")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# LTC & 3P Coins build script for Ubuntu & Debian (c) Decker")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-C")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("PWD")]),e._v("}")]),e._v("/depends "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("v")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NO_PROTON")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NO_QT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("HOST")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("depends/config.guess"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v(" -j"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("nproc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--all")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n\n./autogen.sh\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("CXXFLAGS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"-g0 -O2"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("CONFIG_SITE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),s("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$PWD")]),e._v("/depends/"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("depends/config.guess"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('/share/config.site"')]),e._v(" ./configure --disable-tests --disable-bench --without-miniupnpc --enable-experimental-asm --with-gui"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("no --disable-bip70\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("V")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" -j"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("nproc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--all")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Execute "),s("code",[e._v("./build.sh")]),e._v(" to compile the Litecoin binaries.")])]),e._v(" "),s("li",[s("p",[e._v("Create the data folder and a "),s("code",[e._v("litecoin.conf")]),e._v(" config file")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" .litecoin\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" ~/.litecoin/litecoin.conf\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Insert the following contents inside the "),s("code",[e._v("litecoin.conf")]),e._v(" file and save it. (change the "),s("code",[e._v("rpcuser")]),e._v(" and "),s("code",[e._v("rpcpassword")]),e._v(" values)")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("txindex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcport")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("9332")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcuser")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("litecoinrpcChangeThisToSomethingSecure\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("rpcpassword")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("passwordChangeThisToSomethingSecure\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("addnode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("15.235")]),e._v(".204.174 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dragonhound_AR")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("addnode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("209.222")]),e._v(".101.247 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dragonhound_NA")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("addnode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("103.195")]),e._v(".100.32 "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dragonhound_DEV")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Restrict access to the "),s("code",[e._v("litecoin.conf")]),e._v(" file and "),s("code",[e._v(".litecoin")]),e._v(" directory.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v(" ~/.litecoin/litecoin.conf\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("700")]),e._v(" ~/.litecoin\n")])])])])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"install-third-party-coins-daemons-in-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-third-party-coins-daemons-in-docker"}},[e._v("#")]),e._v(" Install Third Party coins daemons in Docker")]),e._v(" "),s("p",[e._v("Follow the instructions in "),s("a",{attrs:{href:"https://github.com/smk762/notary_docker_3p#notary_docker_3p",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/smk762/notary_docker_3p#notary_docker_3p"),s("OutboundLink")],1),e._v(" to setup the third party coins in docker.")]),e._v(" "),s("p",[e._v("If you need help, please reach out to the Komodo Discord #notary-node channel.")]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"create-symbolic-links-for-deamons-and-cli-s"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-symbolic-links-for-deamons-and-cli-s"}},[e._v("#")]),e._v(" Create Symbolic Links for deamons and cli's")]),e._v(" "),s("ul",[s("li",[s("p",[s("strong",[e._v("For the Main coins")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ln")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" ~/komodo/src/komodod /usr/local/bin/komodod\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ln")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" ~/komodo/src/komodo-cli /usr/local/bin/komodo-cli\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ln")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" ~/litecoin/src/litecoind /usr/local/bin/litecoind\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ln")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-s")]),e._v(" ~/litecoin/src/litecoin-cli /usr/local/bin/litecoin-cli\n")])])])])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"launch-the-daemons"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#launch-the-daemons"}},[e._v("#")]),e._v(" Launch the daemons")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("First, create a start script with "),s("code",[e._v("nano start.sh")]),e._v(" to start the main chains with:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[e._v("#!/bin/bash")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Get our pubkey")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("source")]),e._v(" ~/komodo/src/pubkey.txt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start LTC")]),e._v("\nlitecoind "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sleep")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("60")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start KMD")]),e._v("\nkomodod "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-gen")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-genproclimit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-pubkey")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$pubkey")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-minrelaytxfee")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.000035")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-opretmintxfee")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.004")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-notary")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('".litecoin/litecoin.conf"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sleep")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start all other Main Smart Chains")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/dPoW/iguana\n./assetchains.old\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Save and exit the file, then make it executable with "),s("code",[e._v("chmod +x start.sh")]),e._v(". Now you can launch all the main chains with "),s("code",[e._v("./start.sh")]),e._v("!")])]),e._v(" "),s("li",[s("p",[e._v("Launch the 3P dockerised daemons:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/notary_docker_3p\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# To launch all deamons at once")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" up "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# To launch a single coins deamon (use lowercase ticker)")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker-compose")]),e._v(" up "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("TICKER"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v("\n\n")])])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Import your private keys")]),e._v(" to each coin daemon. Ensure that a space is added at the beginning of each command to prevent the key being saved to "),s("code",[e._v("~/.bash_history")]),e._v(".")])]),e._v(" "),s("li",[s("p",[e._v("eg, "),s("code",[e._v("komodo-cli importprivkey <KEY>")]),e._v(" will be saved to bash history, but "),s("code",[e._v("komodo-cli importprivkey <KEY>")]),e._v(" will not.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For Komodo")]),e._v("\n komodo-cli importprivkey "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("KMD_PRIVATE_KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For Litecoin")]),e._v("\n litecoin-cli importprivkey "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("KMD_PRIVATE_KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For individual main smart chains (replace <TICKER> with the smart chain ticker)")]),e._v("\n komodo-cli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-ac_name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("TICKER"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" importprivkey "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("KMD_PRIVATE_KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For all main smart chains")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/dPoW/iguana\n./listassetchains "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("while")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("read")]),e._v(" chain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$chain")]),e._v("\n    komodo-cli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-ac_name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$chain")]),e._v(" importprivkey "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("KMD_PRIVATE_KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("done")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For 3P deamons")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Use the 3rd party coins\' cli binaries to import the private keys for each coin."')]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Check the sync status")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check the status of the KMD sync process")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" ~/.komodo/debug.log\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check the status of the LTC sync process")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" ~/.litecoin/debug.log\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check the status of the Main smart chain sync process")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" ~/.komodo/"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("TICKER"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("/debug.log\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check the status of the 3P smart chain sync process  (use lowercase ticker)")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/notary_docker_3p\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" compose logs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-f")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("TICKER"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--tail")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("20")]),e._v("\n")])])])])]),e._v(" "),s("p",[e._v("The debug.log will have lines like:")]),e._v(" "),s("p",[s("code",[e._v("2023-06-15 09:08:05 UpdateTip: new best=0c01379c24db5055444983d447ce5af58a9ed50072b4a08a3fec0b151cf51213 height=3463643 log2_work=53.293613 tx=20987955 date=2023-06-15 09:08:06 progress=1.000000 cache=43.6MiB(143561tx)")])]),e._v(" "),s("p",[e._v("When you see "),s("code",[e._v("progress=1.000000")]),e._v(", the chain is in sync! This can take a while, so be patient.")]),e._v(" "),s("p",[e._v("Once sync'd, we can confirm our private keys were correctly imported by using the "),s("code",[e._v("validateaddress")]),e._v(" command with the KMD address linked to our private key. For example:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("komodo-cli validateaddress RDragoNHdwovvsDLSLMiAEzEArAD3kq6FN\n")])])]),s("p",[e._v("This will return a JSON object with the address details. If the address is valid, you will see "),s("code",[e._v('"ismine": true')]),e._v(".")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"isvalid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"address"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"RDragoNHdwovvsDLSLMiAEzEArAD3kq6FN"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scriptPubKey"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"76a91432311a35188a9439c6c866e842564d6fefd3a02888ac"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"segid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("45")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"ismine"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"iswatchonly"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"isscript"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"pubkey"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"038e010c33c56b61389409eea5597fe17967398731e23185c84c472a16fc5d34ab"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"iscompressed"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"account"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("hr"),e._v(" "),s("h2",{attrs:{id:"atomicdex-seed-node-setup-optional-but-recommended"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#atomicdex-seed-node-setup-optional-but-recommended"}},[e._v("#")]),e._v(" AtomicDEX Seed node setup (optional, but recommended)")]),e._v(" "),s("p",[e._v("Simple scripts to setup and configure MM2 as a seednode on your 3P server are available at "),s("a",{attrs:{href:"https://github.com/smk762/nn_mm2_seed",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/smk762/nn_mm2_seed"),s("OutboundLink")],1),e._v(". The mm2 seed node will also need ports "),s("code",[e._v("38890")]),e._v(" and "),s("code",[e._v("38900")]),e._v(" opened on the 3p server.")]),e._v(" "),s("p",[s("strong",[e._v("This may be included in the 3P dockerised setup in the future.")])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"stop-all-coin-daemons-safely"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stop-all-coin-daemons-safely"}},[e._v("#")]),e._v(" Stop All Coin Daemons Safely")]),e._v(" "),s("p",[e._v("Once you've completed syncing, imported and validated your keys in all your daemons, we'll stop all the daemons for some final configuration.")]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),s("p",[e._v("Unless you are a fan of corrupt databases, "),s("strong",[e._v("never")]),e._v(" use "),s("code",[e._v("kill -9")]),e._v(" to stop any Coin daemon. Always shutdown wallet daemon and iguana gracefully with "),s("code",[e._v("pkill -15 iguana")]),e._v(" or use the commands below.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# To stop KMD")]),e._v("\nkomodo-cli stop\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# To stop LTC")]),e._v("\nlitecoin-cli stop\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For all other Main Smart Chains")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/komodo/src\n./fiat-cli stop\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For individual 3P dockerised daemons")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/nn_docker_3p\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" compose stop "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("TICKER"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Use lowercase ticker")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# For all 3P dockerised daemons")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/nn_docker_3p\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" compose stop\n")])])]),s("hr"),e._v(" "),s("h2",{attrs:{id:"restrict-access-to-config-files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restrict-access-to-config-files"}},[e._v("#")]),e._v(" Restrict access to config files")]),e._v(" "),s("p",[e._v("Once all the chains' daemons have stopped, let's restrict access to all the "),s("code",[e._v(".conf")]),e._v(" files inside "),s("code",[e._v("~/.komodo")]),e._v(" and "),s("code",[e._v("~/.komodo_3p")]),e._v("  folders")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("find")]),e._v(" ~/.komodo "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-type")]),e._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-iname")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"*.conf"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-exec")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("find")]),e._v(" ~/.komodo_3p "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-type")]),e._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-iname")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"*.conf"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-exec")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("hr"),e._v(" "),s("h2",{attrs:{id:"address-whitelisting-optional-but-recommended"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#address-whitelisting-optional-but-recommended"}},[e._v("#")]),e._v(" Address whitelisting (optional, but recommended)")]),e._v(" "),s("p",[e._v("If you are using a whitelist for incoming transactions (recommended to avoid dust attacks!) funding top ups will come from the dragonhound_DEV nodes using the addresses "),s("code",[e._v("RHi882Amab35uXjqBZjVxgEgmkkMu454KK")]),e._v(" (Main), and "),s("code",[e._v("RLdmqsXEor84FC8wqDAZbkmJLpgf2nUSkq")]),e._v(" (3P), so add these addresses to your respective whitelists. This can be done by:")]),e._v(" "),s("ul",[s("li",[e._v("Adding "),s("code",[e._v("-whitelistaddress=<address>")]),e._v(" to your daemon launch strings, or")]),e._v(" "),s("li",[e._v("Adding "),s("code",[e._v("whitelistaddress=<address>")]),e._v(" to your daemon "),s("code",[e._v("conf")]),e._v(" files")])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"create-start-script"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-start-script"}},[e._v("#")]),e._v(" Create "),s("code",[e._v("start")]),e._v(" Script")]),e._v(" "),s("p",[e._v("We need a "),s("code",[e._v("start")]),e._v(" script in the home dir to start Komodo, Smart Chains and all 3rd party coin daemons with the "),s("code",[e._v("-pubkey")]),e._v(" option. "),s("code",[e._v("-pubkey")]),e._v(" is not required for LTC daemon, but other coins "),s("strong",[e._v("must")]),e._v(" be launched with it to be able to notarise.")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("You can also use the "),s("code",[e._v("setpubkey")]),e._v(" command to set the pubkey for a running daemon. For example:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("komodo-cli setpubkey "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("pubkey"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Alternatively, you can set the pubkey in your "),s("code",[e._v("conf")]),e._v(" file to make sure it is set every time you launch a daemon. For example:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"pubkey=<pubkey>"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" ~/.komodo/komodo.conf\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Create and open a "),s("code",[e._v("start")]),e._v(" file")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" ~/start\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Add the following lines:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[e._v("#!/bin/bash")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Get our pubkey")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("source")]),e._v(" ~/komodo/src/pubkey.txt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start LTC")]),e._v("\nlitecoind "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sleep")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("60")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start KMD")]),e._v("\nkomodod "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-gen")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-genproclimit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-pubkey")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$pubkey")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-minrelaytxfee")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.000035")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-opretmintxfee")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.004")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-notary")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('".litecoin/litecoin.conf"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sleep")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start all other Main Smart Chains")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/dPoW/iguana\n./assetchains.old\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Make the "),s("code",[e._v("start")]),e._v(" file executable:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" +x start\n")])])])])]),e._v(" "),s("p",[e._v("Note the KMD launch string includes some extra parameters:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("-gen")]),e._v(" - enables mining")]),e._v(" "),s("li",[s("code",[e._v("-genproclimit=1")]),e._v(" - sets the number of threads to use for mining")]),e._v(" "),s("li",[s("code",[e._v("-minrelaytxfee=0.000035")]),e._v(" - sets the minimum relay fee for transactions")]),e._v(" "),s("li",[s("code",[e._v("-opretmintxfee=0.004")]),e._v(" - sets the minimum fee for OP_RETURN transactions")]),e._v(" "),s("li",[s("code",[e._v('-notary=".litecoin/litecoin.conf"')]),e._v(" - sets the location of the notary node's "),s("code",[e._v("litecoin.conf")]),e._v(" file. "),s("strong",[e._v("This is required to be able to notarise KMD -> LTC.")])])]),e._v(" "),s("h3",{attrs:{id:"execute-the-start-script"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execute-the-start-script"}},[e._v("#")]),e._v(" Execute the "),s("code",[e._v("start")]),e._v(" script")]),e._v(" "),s("p",[e._v("This may take up to 20-30 minutes before all chains are responsive (depending on your system spec).")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~\n./start\n")])])]),s("p",[e._v("Don't forget to also restart the dockerised 3rd party daemons.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/nn_docker_3p\n./start_3p.sh\n")])])]),s("hr"),e._v(" "),s("h2",{attrs:{id:"start-iguana-and-begin-notarising"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-iguana-and-begin-notarising"}},[e._v("#")]),e._v(" Start "),s("code",[e._v("Iguana")]),e._v(" and begin notarising")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Notaries are responsible funding their Notary KMD addresses - funds for other chains will be provided from the Komodo team.")])]),e._v(" "),s("li",[e._v("All notary addresses on all dPoW coins (except KMD) will be funded at the start of a season, and periodically topped up as the season progresses.")]),e._v(" "),s("li",[e._v("Please contact "),s("code",[e._v("smk")]),e._v(" on Discord if you need a top up.")]),e._v(" "),s("li",[s("strong",[e._v("Notary funds are for notarisation only, and should not leave your notary addresses for any other purpose.")])]),e._v(" "),s("li",[e._v("At the end of the season, any remaining funds are to be returned to "),s("code",[e._v("smk")]),e._v(" for redistribution to the notaries elected for the next season.")])]),e._v(" "),s("p",[s("strong",[e._v("Make sure all daemons have started properly and are responding to RPC commands before starting Iguana.")])]),e._v(" "),s("ul",[s("li",[s("p",[e._v("To start notarising the Main coins, run:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/dPoW/iguana\n./m_notary_main\n")])])])]),e._v(" "),s("li",[s("p",[e._v("To start notarising the 3rd party coins, run:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/dPoW/iguana\n./m_notary_3rdparty_docker\n")])])])])]),e._v(" "),s("p",[e._v("This will take a few minutes to add peer notaries, and register the coin daemons with Iguana. You will see "),s("code",[e._v("INIT with 64 notaries")]),e._v(" once the process finishes.")]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"firewall-and-ports"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#firewall-and-ports"}},[e._v("#")]),e._v(" Firewall and Ports")]),e._v(" "),s("p",[e._v("Enable "),s("code",[e._v("ufw")]),e._v(" and close all routes except "),s("code",[e._v("ssh")]),e._v(". Create rules to allow the following:")]),e._v(" "),s("ul",[s("li",[e._v("Each daemon's P2P port. You can find these in the daemon's "),s("code",[e._v("conf")]),e._v(" file, or by looking at the response from "),s("code",[e._v("sudo netstat -plant")]),e._v(".")]),e._v(" "),s("li",[e._v("Iguana's Main P2P port (13348)")]),e._v(" "),s("li",[e._v("Iguana's 3P P2P port (13345)")]),e._v(" "),s("li",[e._v("AtomicDEX API P2P ports (38890 & 38900)")])]),e._v(" "),s("p",[e._v("For example:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Main ports")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("7770")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'KMD Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("9333")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'LTC Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("20848")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'CCL Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("20931")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'CLC Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("23225")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'GLEEC Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("12985")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'ILN Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10701")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'KOIN Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("8426")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'NINJA Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("45452")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'PIRATE Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("11340")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'SUPERNET Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("36789")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'THC Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Third party P2P ports")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("8770")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'KMD 3P P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("29404")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'TOKEL P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("33824")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'MCL P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("27485")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'VRSC P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("26001")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'AYA P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("57777")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'CHIPS P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("41878")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'EMC2 P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("41888")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'MIL P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Iguana P2P ports")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("13348")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Iguana Main P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("13345")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Iguana 3P P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# AtomicDEX P2P ports")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("38890")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'AtomicDEX P2P'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("38900")]),e._v(" comment "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'AtomicDEX P2P'")]),e._v("\n")])])]),s("p",[s("strong",[e._v("Make sure you dont expose any RPC ports! This may give the whole internet access to your deamons!")])]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"nn-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nn-scripts"}},[e._v("#")]),e._v(" NN Scripts")]),e._v(" "),s("p",[e._v("There are many open sourced scripts for managing your Komodo Notary Node servers. If you're having trouble with something, you can have a look at "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/komodotools",target:"_blank",rel:"noopener noreferrer"}},[e._v("these tools"),s("OutboundLink")],1),e._v(", or ask the other NN's, who will show you the scripts they use to overcome issues. With that being said, if you find a way to make a job easier or find a way to better the ecosystem, please let the rest of the NN OPs know, we would love to hear it.")]),e._v(" "),s("hr"),e._v(" "),s("h2",{attrs:{id:"setup-for-debian-11"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup-for-debian-11"}},[e._v("#")]),e._v(" Setup for Debian 11")]),e._v(" "),s("p",[e._v("Install the following dependancies:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" tmux "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("dc")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("bc")]),e._v(" dnsutils speedtest-cli build-essential "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" libsodium-dev libssl-dev pkg-config autoconf automake bsdmainutils cmake "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" g++-multilib "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("htop")]),e._v(" libboost-all-dev libc6-dev libgtest-dev libtool m4 software-properties-common "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("unzip")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" zlib1g-dev binutils-dev clang jq libcurl4-openssl-dev libdb++-dev libevent-dev libexpat1-dev libgnutls28-dev libldns-dev liblzma-dev libnanomsg-dev libncurses-dev libprotobuf-dev libqrencode-dev libreadline-dev libunwind-dev ncurses-dev ntp ntpdate protobuf-compiler python3-pip\n")])])]),s("p",[e._v("Use the template below to create build scripts for coins as needed:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# AnyCoin compile script (q) Decker, 2021-2022")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-C")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("PWD")]),e._v("}")]),e._v("/depends "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("v")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NO_PROTON")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NO_QT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("HOST")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("depends/config.guess"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v(" -j"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("nproc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--all")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n\n./autogen.sh\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("CXXFLAGS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"-g0 -O2"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("CONFIG_SITE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),s("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$PWD")]),e._v("/depends/"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("depends/config.guess"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('/share/config.site"')]),e._v(" ./configure --disable-tests --disable-bench --without-miniupnpc --enable-experimental-asm --with-gui"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("no --disable-bip70\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("V")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" -j"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("nproc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--all")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);